const Joomla=window.Joomla||{};class JoomlaFieldSendTestMail extends HTMLElement{connectedCallback(){const e=this,s=document.getElementById("sendtestmail");s&&s.addEventListener("click",()=>{e.sendTestMail(e)})}sendTestMail(){const e={smtpauth:this.querySelector('[name="jform[smtpauth]"]').value,smtpuser:this.querySelector('[name="jform[smtpuser]"]').value,smtppass:this.querySelector('[name="jform[smtppass]"]').value,smtphost:this.querySelector('[name="jform[smtphost]"]').value,smtpsecure:this.querySelector('[name="jform[smtpsecure]"]').value,smtpport:this.querySelector('[name="jform[smtpport]"]').value,mailfrom:this.querySelector('[name="jform[mailfrom]"]').value,fromname:this.querySelector('[name="jform[fromname]"]').value,mailer:this.querySelector('[name="jform[mailer]"]').value,mailonline:this.querySelector('[name="jform[mailonline]"]').value};Joomla.removeMessages(),Joomla.request({url:document.getElementById("sendtestmail").getAttribute("data-ajaxuri"),method:"POST",data:JSON.stringify(e),perform:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},onSuccess:e=>{const s=JSON.parse(e);"object"==typeof s.messages&&null!==s.messages&&Joomla.renderMessages(s.messages)},onError:e=>{Joomla.renderMessages(Joomla.ajaxErrorsMessages(e))}})}}customElements.define("joomla-field-sendtestmail",JoomlaFieldSendTestMail);